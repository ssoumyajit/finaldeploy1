(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{379:function(t,e,n){"use strict";n(11),n(7),n(5),n(4),n(6);var r=n(0),o=(n(386),n(22)),c=n(8);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(c.a)(o.a).extend({name:"v-subheader",props:{inset:Boolean},render:function(t){return t("div",{staticClass:"v-subheader",class:v({"v-subheader--inset":this.inset},this.themeClasses),attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})},386:function(t,e,n){var content=n(387);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(15).default)("e8b41e5e",content,!0,{sourceMap:!1})},387:function(t,e,n){(e=n(14)(!1)).push([t.i,".theme--light.v-subheader{color:rgba(0,0,0,.6)}.theme--dark.v-subheader{color:hsla(0,0%,100%,.7)}.v-subheader{align-items:center;display:flex;height:48px;font-size:.875rem;font-weight:400;padding:0 16px}.v-subheader--inset{margin-left:56px}",""]),t.exports=e},549:function(t,e,n){"use strict";n.r(e);n(11),n(7),n(5),n(4),n(6),n(59);var r=n(16),o=n(0),c=n(47);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var _={middleware:"check_auth",computed:v(v({},Object(c.c)(["notifications","artists","loggedInUser"])),{},{filteredNotifications:function(){if(this.notifications)return this.notifications.filter((function(t){return 0==t.is_seen}))},filteredNotificationsOld:function(){if(this.notifications)return this.notifications.filter((function(t){return 1==t.is_seen}))}}),methods:{seen:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c,i,form;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=e.filteredNotifications,t.chatobject&&(o=r.filter((function(e){return e.chatobject==t.chatobject}))),t.learningobject&&(o=r.filter((function(e){return e.learningobject==t.learningobject}))),t.e1t1object&&(o=r.filter((function(e){return e.e1t1object==t.e1t1object}))),console.log("tempe",o),n.prev=5,c={headers:{Authorization:"Bearer"+e.$store.state.auth.user.access_token}},i=0;case 8:if(!(i<o.length)){n.next=21;break}return(form=new FormData).append("is_seen","true"),form.append("e1t1object",o[i].e1t1object),form.append("sender",o[i].sender),form.append("receiver",o[i].receiver),form.append("notification_type",o[i].notification_type),form.append("notification_context",o[i].notification_context),n.next=18,e.$axios.$put("/v1/notifications/e1t1/"+o[i].id,form,c);case 18:i++,n.next=8;break;case 21:n.next=26;break;case 23:n.prev=23,n.t0=n.catch(5),console.log("error..",n.t0.response.data);case 26:e.$store.dispatch("check_notifications",e.loggedInUser.user.username),e.$router.push("/e1t1/"+t.e1t1object);case 28:case"end":return n.stop()}}),n,null,[[5,23]])})))()},opene1t1:function(t){this.$router.push("/e1t1/"+t.e1t1object)}}},d=n(21),f=n(24),m=n.n(f),h=n(353),y=n(349),O=n(342),j=n(98),k=n(152),w=n(99),x=n(154),P=n(46),V=n(379),component=Object(d.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-container",[n("h2",{staticClass:"my-2"},[t._v("Notifications")]),t._v(" "),n("v-list",{attrs:{"two-line":""}},[n("v-subheader",[t._v("New")]),t._v(" "),t._l(t.filteredNotifications,(function(e){return[n("v-list-item",{key:e.index,on:{click:function(n){return t.seen(e)}}},[t._l(t.artists,(function(r){return n("div",{key:r.index},[e.sender==r.username&&r.thumb?n("v-list-item-avatar",[n("img",{attrs:{src:r.thumb,alt:"img"}})]):t._e(),t._v(" "),e.sender!=r.username||r.thumb?t._e():n("v-list-item-avatar",{attrs:{color:"blue"}},[n("v-icon",{attrs:{dark:""}},[t._v("\n                    mdi-account-circle\n                ")])],1)],1)})),t._v(" "),1==e.notification_context?n("v-list-item-content",[1==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has tagged you as a teacher.")]):t._e(),t._v(" "),2==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has liked your post.")]):t._e(),t._v(" "),3==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has commented on your post.")]):t._e(),t._v(" "),n("v-list-item-subtitle",[t._v(" "+t._s(e.time))])],1):t._e(),t._v(" "),2==e.notification_context?n("v-list-item-content",[1==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has added a video.")]):t._e(),t._v(" "),2==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has liked your video.")]):t._e(),t._v(" "),3==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has commented on your video.")]):t._e(),t._v(" "),n("v-list-item-subtitle",[t._v(" "+t._s(e.time))])],1):t._e(),t._v(" "),3==e.notification_context?n("v-list-item-content",[1==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has sent you a private message.")]):t._e(),t._v(" "),2==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has liked your private message.")]):t._e(),t._v(" "),3==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has commented on your private message.")]):t._e(),t._v(" "),n("v-list-item-subtitle",[t._v(" "+t._s(e.time))])],1):t._e()],2)]}))],2),t._v(" "),n("v-divider"),t._v(" "),n("v-list",{attrs:{"two-line":""}},[n("v-subheader",[t._v("Earlier")]),t._v(" "),t._l(t.filteredNotificationsOld,(function(e){return[n("v-list-item",{key:e.index,on:{click:function(n){return t.opene1t1(e)}}},[t._l(t.artists,(function(r){return n("div",{key:r.index},[e.sender==r.username&&r.thumb?n("v-list-item-avatar",[n("img",{attrs:{src:r.thumb,alt:"img"}})]):t._e(),t._v(" "),e.sender!=r.username||r.thumb?t._e():n("v-list-item-avatar",{attrs:{color:"blue"}},[n("v-icon",{attrs:{dark:""}},[t._v("\n                        mdi-account-circle\n                    ")])],1)],1)})),t._v(" "),1==e.notification_context?n("v-list-item-content",[1==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has tagged you as a teacher.")]):t._e(),t._v(" "),2==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has liked your post.")]):t._e(),t._v(" "),3==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has commented on your post.")]):t._e(),t._v(" "),n("v-list-item-subtitle",[t._v(" "+t._s(e.time))])],1):t._e(),t._v(" "),2==e.notification_context?n("v-list-item-content",[1==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has added a video.")]):t._e(),t._v(" "),2==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has liked your video.")]):t._e(),t._v(" "),3==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has commented on your video.")]):t._e(),t._v(" "),n("v-list-item-subtitle",[t._v(" "+t._s(e.time))])],1):t._e(),t._v(" "),3==e.notification_context?n("v-list-item-content",[1==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has sent you a private message.")]):t._e(),t._v(" "),2==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has liked your private message.")]):t._e(),t._v(" "),3==e.notification_type?n("v-list-item-title",[t._v(t._s(e.sender)+" has commented on your private message.")]):t._e(),t._v(" "),n("v-list-item-subtitle",[t._v(" "+t._s(e.time))])],1):t._e()],2)]}))],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VApp:h.a,VContainer:y.a,VDivider:O.a,VIcon:j.a,VList:k.a,VListItem:w.a,VListItemAvatar:x.a,VListItemContent:P.a,VListItemSubtitle:P.b,VListItemTitle:P.c,VSubheader:V.a})}}]);